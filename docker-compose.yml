services:
  cruise-price-checker:
    build: .
    container_name: cruise-price-checker
    restart: unless-stopped
    env_file:
      - .env
    environment:
      # Timezone for cron execution
      # Examples: America/New_York, America/Chicago, America/Los_Angeles, Europe/London
      # Full list: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
      - TZ=America/Toronto
      # Cron schedule format: minute hour day month weekday
      # This runs at exactly 7:00 AM, 12:00 PM, and 7:00 PM every day
      - CRON_SCHEDULE=0 7,12,19 * * *
      - PYTHONUNBUFFERED=1
    volumes:
      # Mount your config file as Read Only (:ro) for security
      - ./CheckRoyalCaribbeanPrice.py:/app/CheckRoyalCaribbeanPrice.py
      - ./config.yaml:/app/config.yaml:ro
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"
